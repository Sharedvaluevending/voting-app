services:
  - type: web
    name: crypto-trading-signals
    runtime: node
    buildCommand: npm install
    startCommand: node voting-app.js
    envVars:
      # Use the STANDARD connection string (mongodb://host:port,...) not mongodb+srv
      # to avoid DNS ENOTFOUND on Render. In Atlas: Connect → your app → copy standard URI.
      - key: MONGODB_URI
        sync: false
      # Required in production: run `node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"` to generate
      - key: SESSION_SECRET
        sync: false
      - key: NODE_ENV
        value: production
